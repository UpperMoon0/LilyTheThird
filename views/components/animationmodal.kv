#:kivy 2.0.0
#:import VTSParamList views.components.vts_param_list.VTSParamList

<AnimationModal>:
    # ModalView properties
    size_hint: 0.8, 0.9 # Take up 80% width, 90% height of the window
    auto_dismiss: False # Don't close when clicking outside

    BoxLayout:
        orientation: 'vertical'
        padding: dp(15)
        spacing: dp(10)

        # --- Title ---
        Label:
            id: modal_title # ID for Python access
            text: "Add/Edit Animation" # Default text, will be updated
            size_hint_y: None
            height: dp(30)
            font_size: '18sp'
            bold: True
            halign: 'center'

        # --- Animation Name Input ---
        BoxLayout:
            size_hint_y: None
            height: dp(35)
            Label:
                text: "Name:"
                size_hint_x: 0.2
                halign: 'right'
                valign: 'middle'
                text_size: self.size
            TextInput:
                id: animation_name_input # ID for Python access
                size_hint_x: 0.8
                multiline: False
                write_tab: False # Prevent tabs in name

        # --- Parameter List ---
        Label:
            text: "Set Parameter Values:"
            size_hint_y: None
            height: dp(25)
            halign: 'left'
            valign: 'middle'
            text_size: self.width, None
            bold: True

        VTSParamList:
            id: param_list_in_modal # ID for Python access
            size_hint_y: 1 # Take remaining vertical space

        # --- Action Buttons ---
        BoxLayout:
            size_hint_y: None
            height: dp(45)
            spacing: dp(10)

            Button:
                text: "Save"
                size_hint_x: 0.5
                on_press: root.save_animation()
                # Optional styling
                # background_color: (0.2, 0.6, 0.2, 1)

            Button:
                text: "Cancel"
                size_hint_x: 0.5
                on_press: root.cancel()
                # Optional styling
                # background_color: (0.8, 0.3, 0.3, 1)
